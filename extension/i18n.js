// Internationalization (i18n) for MSG Extension
class I18n {
  constructor() {
    this.currentLanguage = 'en';
    this.translations = {
      en: {
        // Popup
        'popup_title': 'MSG: Chat with Any Websites',
        'enter_api_key': 'Enter your Gemini API Key',
        'api_key_secure': 'Your key stays secure on your device and is never shared.',
        'api_key_placeholder': 'Paste your Gemini API key here',
        'save_key': 'Save Key',
        'get_api_key': 'üîë Get your API key from AI Studio',
        'signin_google': 'Sign in with Google for additional features (optional):',
        'signin_button': 'Sign in with Google',
        'signed_in_as': 'Signed in as',
        'sign_out': 'Sign Out',
        'quick_settings': 'Quick Settings',
        'dark_mode': 'Dark mode',
        'transparent_bg': 'Semi-transparent background',
        'panel_width': 'Panel Width',
        'panel_narrow': 'Narrow',
        'panel_medium': 'Medium',
        'panel_wide': 'Wide',
        'auto_summarize': 'Auto-suggest summary',
        'language': 'Language',
        'save_settings': 'Save Settings',
        'shortcut_info': 'Press / twice quickly to open MSG on any website',
        'advanced_settings': 'Advanced Settings',
        
        // Options
        'options_title': 'MSG Settings',
        'api_key_section': 'API Key',
        'gemini_api_key': 'Gemini API Key',
        'api_key_secure_server': 'Your key stays secure on your device and is never shared with any server.',
        'save_api_key': 'Save API Key',
        'account_section': 'Account',
        'not_signed_in': 'You are not signed in.',
        'appearance_section': 'Appearance',
        'use_dark_mode': 'Use dark mode (otherwise follows system setting)',
        'use_transparent_bg': 'Use semi-transparent background',
        'behavior_section': 'Behavior',
        'panel_width_narrow': 'Narrow (300px)',
        'panel_width_medium': 'Medium (380px)',
        'panel_width_wide': 'Wide (450px)',
        'auto_summarize_full': 'Automatically suggest a summary when panel opens',
        'enable_grounding': 'Enable Google Grounding (makes responses more accurate by searching the web)',
        'grounding_when': 'When to use grounding:',
        'grounding_auto': 'Automatic (when needed)',
        'grounding_always': 'Always',
        'grounding_explicit': 'Only when user asks',
        'keyboard_shortcut': 'Keyboard Shortcut',
        'shortcut_description': 'Open/close MSG panel: Press / twice quickly',
        'save_all_settings': 'Save All Settings',
        
        // Status messages
        'api_key_saved': 'API key saved successfully!',
        'settings_saved': 'Settings saved successfully!',
        'signin_successful': 'Signed in successfully',
        'signout_successful': 'Signed out successfully',
        'api_key_set': 'API key is set',
        'invalid_api_key': 'Please enter a valid API key',
        'signin_failed': 'Sign in failed',
        'signout_failed': 'Logout error',
        
        // Content script messages
        'chat_title': 'MSG Chat',
        'ask_placeholder': 'Ask anything about this page...',
        'welcome_message': 'Hi there! I\'m MSG, your website assistant. I\'ve analyzed this page and can help you understand its content with intelligent search.',
        'grounding_enabled_all': 'Web search is enabled for all queries.',
        'grounding_enabled_auto': 'Web search will be used automatically when needed.',
        'grounding_enabled_explicit': 'Web search is available when you explicitly ask for it (e.g., "search for...")',
        'content_loaded': 'Content loaded ({size}KB). {grounding} Type "summarize" for a quick overview.',
        'content_loaded_simple': 'Content loaded ({size}KB). Type "summarize" for a quick overview.',
        'web_search_indicator': 'Web Search',
        'api_key_error': 'Error: Please check your API key in settings.'
      },
      
      es: {
        // Popup
        'popup_title': 'MSG: Chatea con Cualquier Sitio Web',
        'enter_api_key': 'Ingresa tu Clave API de Gemini',
        'api_key_secure': 'Tu clave permanece segura en tu dispositivo y nunca se comparte.',
        'api_key_placeholder': 'Pega tu clave API de Gemini aqu√≠',
        'save_key': 'Guardar Clave',
        'get_api_key': 'üîë Obt√©n tu clave API desde AI Studio',
        'signin_google': 'Inicia sesi√≥n con Google para funciones adicionales (opcional):',
        'signin_button': 'Iniciar sesi√≥n con Google',
        'signed_in_as': 'Conectado como',
        'sign_out': 'Cerrar Sesi√≥n',
        'quick_settings': 'Configuraci√≥n R√°pida',
        'dark_mode': 'Modo oscuro',
        'transparent_bg': 'Fondo semi-transparente',
        'panel_width': 'Ancho del Panel',
        'panel_narrow': 'Estrecho',
        'panel_medium': 'Mediano',
        'panel_wide': 'Ancho',
        'auto_summarize': 'Sugerir resumen autom√°ticamente',
        'language': 'Idioma',
        'save_settings': 'Guardar Configuraci√≥n',
        'shortcut_info': 'Presiona / dos veces r√°pidamente para abrir MSG en cualquier sitio web',
        'advanced_settings': 'Configuraci√≥n Avanzada',
        
        // Options
        'options_title': 'Configuraci√≥n de MSG',
        'api_key_section': 'Clave API',
        'gemini_api_key': 'Clave API de Gemini',
        'api_key_secure_server': 'Tu clave permanece segura en tu dispositivo y nunca se comparte con ning√∫n servidor.',
        'save_api_key': 'Guardar Clave API',
        'account_section': 'Cuenta',
        'not_signed_in': 'No has iniciado sesi√≥n.',
        'appearance_section': 'Apariencia',
        'use_dark_mode': 'Usar modo oscuro (de lo contrario sigue la configuraci√≥n del sistema)',
        'use_transparent_bg': 'Usar fondo semi-transparente',
        'behavior_section': 'Comportamiento',
        'panel_width_narrow': 'Estrecho (300px)',
        'panel_width_medium': 'Mediano (380px)',
        'panel_width_wide': 'Ancho (450px)',
        'auto_summarize_full': 'Sugerir autom√°ticamente un resumen cuando se abra el panel',
        'enable_grounding': 'Habilitar Google Grounding (hace las respuestas m√°s precisas buscando en la web)',
        'grounding_when': 'Cu√°ndo usar grounding:',
        'grounding_auto': 'Autom√°tico (cuando sea necesario)',
        'grounding_always': 'Siempre',
        'grounding_explicit': 'Solo cuando el usuario lo pida',
        'keyboard_shortcut': 'Atajo de Teclado',
        'shortcut_description': 'Abrir/cerrar panel MSG: Presiona / dos veces r√°pidamente',
        'save_all_settings': 'Guardar Toda la Configuraci√≥n',
        
        // Status messages
        'api_key_saved': '¬°Clave API guardada exitosamente!',
        'settings_saved': '¬°Configuraci√≥n guardada exitosamente!',
        'signin_successful': 'Inicio de sesi√≥n exitoso',
        'signout_successful': 'Cierre de sesi√≥n exitoso',
        'api_key_set': 'Clave API configurada',
        'invalid_api_key': 'Por favor ingresa una clave API v√°lida',
        'signin_failed': 'Error al iniciar sesi√≥n',
        'signout_failed': 'Error al cerrar sesi√≥n',
        
        // Content script messages
        'chat_title': 'MSG Chat',
        'ask_placeholder': 'Pregunta cualquier cosa sobre esta p√°gina...',
        'welcome_message': '¬°Hola! Soy MSG, tu asistente web. He analizado esta p√°gina y puedo ayudarte a entender su contenido con b√∫squeda inteligente.',
        'grounding_enabled_all': 'La b√∫squeda web est√° habilitada para todas las consultas.',
        'grounding_enabled_auto': 'La b√∫squeda web se usar√° autom√°ticamente cuando sea necesario.',
        'grounding_enabled_explicit': 'La b√∫squeda web est√° disponible cuando la solicites expl√≠citamente (ej: "buscar...").',
        'content_loaded': 'Contenido cargado ({size}KB). {grounding} Escribe "resumir" para una vista r√°pida.',
        'content_loaded_simple': 'Contenido cargado ({size}KB). Escribe "resumir" para una vista r√°pida.',
        'web_search_indicator': 'B√∫squeda Web',
        'api_key_error': 'Error: Por favor verifica tu clave API en configuraci√≥n.'
      },
      
      fr: {
        // Popup
        'popup_title': 'MSG: Chattez avec N\'importe Quel Site Web',
        'enter_api_key': 'Entrez votre Cl√© API Gemini',
        'api_key_secure': 'Votre cl√© reste s√©curis√©e sur votre appareil et n\'est jamais partag√©e.',
        'api_key_placeholder': 'Collez votre cl√© API Gemini ici',
        'save_key': 'Sauvegarder la Cl√©',
        'get_api_key': 'üîë Obtenez votre cl√© API depuis AI Studio',
        'signin_google': 'Connectez-vous avec Google pour des fonctionnalit√©s suppl√©mentaires (optionnel):',
        'signin_button': 'Se connecter avec Google',
        'signed_in_as': 'Connect√© en tant que',
        'sign_out': 'Se D√©connecter',
        'quick_settings': 'Param√®tres Rapides',
        'dark_mode': 'Mode sombre',
        'transparent_bg': 'Arri√®re-plan semi-transparent',
        'panel_width': 'Largeur du Panneau',
        'panel_narrow': '√âtroit',
        'panel_medium': 'Moyen',
        'panel_wide': 'Large',
        'auto_summarize': 'Sugg√©rer automatiquement un r√©sum√©',
        'language': 'Langue',
        'save_settings': 'Sauvegarder les Param√®tres',
        'shortcut_info': 'Appuyez sur / deux fois rapidement pour ouvrir MSG sur n\'importe quel site web',
        'advanced_settings': 'Param√®tres Avanc√©s',
        
        // Options  
        'options_title': 'Param√®tres MSG',
        'api_key_section': 'Cl√© API',
        'gemini_api_key': 'Cl√© API Gemini',
        'api_key_secure_server': 'Votre cl√© reste s√©curis√©e sur votre appareil et n\'est jamais partag√©e avec aucun serveur.',
        'save_api_key': 'Sauvegarder la Cl√© API',
        'account_section': 'Compte',
        'not_signed_in': 'Vous n\'√™tes pas connect√©.',
        'appearance_section': 'Apparence',
        'use_dark_mode': 'Utiliser le mode sombre (sinon suit les param√®tres syst√®me)',
        'use_transparent_bg': 'Utiliser un arri√®re-plan semi-transparent',
        'behavior_section': 'Comportement',
        'panel_width_narrow': '√âtroit (300px)',
        'panel_width_medium': 'Moyen (380px)',
        'panel_width_wide': 'Large (450px)',
        'auto_summarize_full': 'Sugg√©rer automatiquement un r√©sum√© √† l\'ouverture du panneau',
        'enable_grounding': 'Activer Google Grounding (rend les r√©ponses plus pr√©cises en recherchant sur le web)',
        'grounding_when': 'Quand utiliser le grounding:',
        'grounding_auto': 'Automatique (quand n√©cessaire)',
        'grounding_always': 'Toujours',
        'grounding_explicit': 'Seulement quand l\'utilisateur le demande',
        'keyboard_shortcut': 'Raccourci Clavier',
        'shortcut_description': 'Ouvrir/fermer le panneau MSG: Appuyez sur / deux fois rapidement',
        'save_all_settings': 'Sauvegarder Tous les Param√®tres',
        
        // Status messages
        'api_key_saved': 'Cl√© API sauvegard√©e avec succ√®s!',
        'settings_saved': 'Param√®tres sauvegard√©s avec succ√®s!',
        'signin_successful': 'Connexion r√©ussie',
        'signout_successful': 'D√©connexion r√©ussie',
        'api_key_set': 'Cl√© API configur√©e',
        'invalid_api_key': 'Veuillez entrer une cl√© API valide',
        'signin_failed': '√âchec de la connexion',
        'signout_failed': 'Erreur de d√©connexion',
        
        // Content script messages
        'chat_title': 'MSG Chat',
        'ask_placeholder': 'Demandez tout sur cette page...',
        'welcome_message': 'Salut! Je suis MSG, votre assistant web. J\'ai analys√© cette page et peux vous aider √† comprendre son contenu avec une recherche intelligente.',
        'grounding_enabled_all': 'La recherche web est activ√©e pour toutes les requ√™tes.',
        'grounding_enabled_auto': 'La recherche web sera utilis√©e automatiquement quand n√©cessaire.',
        'grounding_enabled_explicit': 'La recherche web est disponible quand vous la demandez explicitement (ex: "rechercher...").',
        'content_loaded': 'Contenu charg√© ({size}KB). {grounding} Tapez "r√©sumer" pour un aper√ßu rapide.',
        'content_loaded_simple': 'Contenu charg√© ({size}KB). Tapez "r√©sumer" pour un aper√ßu rapide.',
        'web_search_indicator': 'Recherche Web',
        'api_key_error': 'Erreur: Veuillez v√©rifier votre cl√© API dans les param√®tres.'
      },
      
      de: {
        // Popup
        'popup_title': 'MSG: Chatten Sie mit Beliebigen Webseiten',
        'enter_api_key': 'Geben Sie Ihren Gemini API-Schl√ºssel ein',
        'api_key_secure': 'Ihr Schl√ºssel bleibt sicher auf Ihrem Ger√§t und wird niemals geteilt.',
        'api_key_placeholder': 'F√ºgen Sie hier Ihren Gemini API-Schl√ºssel ein',
        'save_key': 'Schl√ºssel Speichern',
        'get_api_key': 'üîë Holen Sie sich Ihren API-Schl√ºssel von AI Studio',
        'signin_google': 'Mit Google anmelden f√ºr zus√§tzliche Funktionen (optional):',
        'signin_button': 'Mit Google anmelden',
        'signed_in_as': 'Angemeldet als',
        'sign_out': 'Abmelden',
        'quick_settings': 'Schnelleinstellungen',
        'dark_mode': 'Dunkler Modus',
        'transparent_bg': 'Halbtransparenter Hintergrund',
        'panel_width': 'Panel-Breite',
        'panel_narrow': 'Schmal',
        'panel_medium': 'Mittel',
        'panel_wide': 'Breit',
        'auto_summarize': 'Zusammenfassung automatisch vorschlagen',
        'language': 'Sprache',
        'save_settings': 'Einstellungen Speichern',
        'shortcut_info': 'Dr√ºcken Sie / zweimal schnell, um MSG auf jeder Webseite zu √∂ffnen',
        'advanced_settings': 'Erweiterte Einstellungen',
        
        // Options
        'options_title': 'MSG Einstellungen',
        'api_key_section': 'API-Schl√ºssel',
        'gemini_api_key': 'Gemini API-Schl√ºssel',
        'api_key_secure_server': 'Ihr Schl√ºssel bleibt sicher auf Ihrem Ger√§t und wird niemals mit einem Server geteilt.',
        'save_api_key': 'API-Schl√ºssel Speichern',
        'account_section': 'Konto',
        'not_signed_in': 'Sie sind nicht angemeldet.',
        'appearance_section': 'Erscheinungsbild',
        'use_dark_mode': 'Dunklen Modus verwenden (ansonsten Systemeinstellung folgen)',
        'use_transparent_bg': 'Halbtransparenten Hintergrund verwenden',
        'behavior_section': 'Verhalten',
        'panel_width_narrow': 'Schmal (300px)',
        'panel_width_medium': 'Mittel (380px)',
        'panel_width_wide': 'Breit (450px)',
        'auto_summarize_full': 'Automatisch eine Zusammenfassung vorschlagen, wenn sich das Panel √∂ffnet',
        'enable_grounding': 'Google Grounding aktivieren (macht Antworten durch Websuche genauer)',
        'grounding_when': 'Wann Grounding verwenden:',
        'grounding_auto': 'Automatisch (bei Bedarf)',
        'grounding_always': 'Immer',
        'grounding_explicit': 'Nur auf Benutzeranfrage',
        'keyboard_shortcut': 'Tastenk√ºrzel',
        'shortcut_description': 'MSG-Panel √∂ffnen/schlie√üen: Dr√ºcken Sie / zweimal schnell',
        'save_all_settings': 'Alle Einstellungen Speichern',
        
        // Status messages
        'api_key_saved': 'API-Schl√ºssel erfolgreich gespeichert!',
        'settings_saved': 'Einstellungen erfolgreich gespeichert!',
        'signin_successful': 'Anmeldung erfolgreich',
        'signout_successful': 'Abmeldung erfolgreich',
        'api_key_set': 'API-Schl√ºssel ist gesetzt',
        'invalid_api_key': 'Bitte geben Sie einen g√ºltigen API-Schl√ºssel ein',
        'signin_failed': 'Anmeldung fehlgeschlagen',
        'signout_failed': 'Abmelde-Fehler',
        
        // Content script messages
        'chat_title': 'MSG Chat',
        'ask_placeholder': 'Fragen Sie alles √ºber diese Seite...',
        'welcome_message': 'Hallo! Ich bin MSG, Ihr Web-Assistent. Ich habe diese Seite analysiert und kann Ihnen helfen, ihren Inhalt mit intelligenter Suche zu verstehen.',
        'grounding_enabled_all': 'Websuche ist f√ºr alle Anfragen aktiviert.',
        'grounding_enabled_auto': 'Websuche wird automatisch bei Bedarf verwendet.',
        'grounding_enabled_explicit': 'Websuche ist verf√ºgbar, wenn Sie explizit danach fragen (z.B. "suche nach...").',
        'content_loaded': 'Inhalt geladen ({size}KB). {grounding} Tippen Sie "zusammenfassen" f√ºr eine schnelle √úbersicht.',
        'content_loaded_simple': 'Inhalt geladen ({size}KB). Tippen Sie "zusammenfassen" f√ºr eine schnelle √úbersicht.',
        'web_search_indicator': 'Websuche',
        'api_key_error': 'Fehler: Bitte √ºberpr√ºfen Sie Ihren API-Schl√ºssel in den Einstellungen.'
      },
      
      zh: {
        // Popup
        'popup_title': 'MSG: ‰∏é‰ªª‰ΩïÁΩëÁ´ôËÅäÂ§©',
        'enter_api_key': 'ËæìÂÖ•ÊÇ®ÁöÑ Gemini API ÂØÜÈí•',
        'api_key_secure': 'ÊÇ®ÁöÑÂØÜÈí•ÂÆâÂÖ®‰øùÂ≠òÂú®ÊÇ®ÁöÑËÆæÂ§á‰∏äÔºåÊ∞∏Ëøú‰∏ç‰ºöË¢´ÂàÜ‰∫´„ÄÇ',
        'api_key_placeholder': 'Âú®Ê≠§Á≤òË¥¥ÊÇ®ÁöÑ Gemini API ÂØÜÈí•',
        'save_key': '‰øùÂ≠òÂØÜÈí•',
        'get_api_key': 'üîë ‰ªé AI Studio Ëé∑ÂèñÊÇ®ÁöÑ API ÂØÜÈí•',
        'signin_google': '‰ΩøÁî® Google ÁôªÂΩï‰ª•Ëé∑ÂæóÈ¢ùÂ§ñÂäüËÉΩÔºàÂèØÈÄâÔºâÔºö',
        'signin_button': '‰ΩøÁî® Google ÁôªÂΩï',
        'signed_in_as': 'Â∑≤ÁôªÂΩï‰∏∫',
        'sign_out': 'ÁôªÂá∫',
        'quick_settings': 'Âø´ÈÄüËÆæÁΩÆ',
        'dark_mode': 'Ê∑±Ëâ≤Ê®°Âºè',
        'transparent_bg': 'ÂçäÈÄèÊòéËÉåÊôØ',
        'panel_width': 'Èù¢ÊùøÂÆΩÂ∫¶',
        'panel_narrow': 'Á™Ñ',
        'panel_medium': '‰∏≠Á≠â',
        'panel_wide': 'ÂÆΩ',
        'auto_summarize': 'Ëá™Âä®Âª∫ËÆÆÊëòË¶Å',
        'language': 'ËØ≠Ë®Ä',
        'save_settings': '‰øùÂ≠òËÆæÁΩÆ',
        'shortcut_info': 'Âø´ÈÄüÊåâ‰∏§Ê¨° / ÈîÆÂú®‰ªª‰ΩïÁΩëÁ´ô‰∏äÊâìÂºÄ MSG',
        'advanced_settings': 'È´òÁ∫ßËÆæÁΩÆ',
        
        // Options
        'options_title': 'MSG ËÆæÁΩÆ',
        'api_key_section': 'API ÂØÜÈí•',
        'gemini_api_key': 'Gemini API ÂØÜÈí•',
        'api_key_secure_server': 'ÊÇ®ÁöÑÂØÜÈí•ÂÆâÂÖ®‰øùÂ≠òÂú®ÊÇ®ÁöÑËÆæÂ§á‰∏äÔºåÊ∞∏Ëøú‰∏ç‰ºö‰∏é‰ªª‰ΩïÊúçÂä°Âô®ÂÖ±‰∫´„ÄÇ',
        'save_api_key': '‰øùÂ≠ò API ÂØÜÈí•',
        'account_section': 'Ë¥¶Êà∑',
        'not_signed_in': 'ÊÇ®Â∞öÊú™ÁôªÂΩï„ÄÇ',
        'appearance_section': 'Â§ñËßÇ',
        'use_dark_mode': '‰ΩøÁî®Ê∑±Ëâ≤Ê®°ÂºèÔºàÂê¶ÂàôË∑üÈöèÁ≥ªÁªüËÆæÁΩÆÔºâ',
        'use_transparent_bg': '‰ΩøÁî®ÂçäÈÄèÊòéËÉåÊôØ',
        'behavior_section': 'Ë°å‰∏∫',
        'panel_width_narrow': 'Á™Ñ (300px)',
        'panel_width_medium': '‰∏≠Á≠â (380px)',
        'panel_width_wide': 'ÂÆΩ (450px)',
        'auto_summarize_full': 'Èù¢ÊùøÊâìÂºÄÊó∂Ëá™Âä®Âª∫ËÆÆÊëòË¶Å',
        'enable_grounding': 'ÂêØÁî® Google GroundingÔºàÈÄöËøáÁΩëÁªúÊêúÁ¥¢‰ΩøÂõûÁ≠îÊõ¥ÂáÜÁ°ÆÔºâ',
        'grounding_when': '‰ΩïÊó∂‰ΩøÁî® groundingÔºö',
        'grounding_auto': 'Ëá™Âä®ÔºàÈúÄË¶ÅÊó∂Ôºâ',
        'grounding_always': 'ÊÄªÊòØ',
        'grounding_explicit': '‰ªÖÂΩìÁî®Êà∑Ë¶ÅÊ±ÇÊó∂',
        'keyboard_shortcut': 'ÈîÆÁõòÂø´Êç∑ÈîÆ',
        'shortcut_description': 'ÊâìÂºÄ/ÂÖ≥Èó≠ MSG Èù¢ÊùøÔºöÂø´ÈÄüÊåâ‰∏§Ê¨° / ÈîÆ',
        'save_all_settings': '‰øùÂ≠òÊâÄÊúâËÆæÁΩÆ',
        
        // Status messages
        'api_key_saved': 'API ÂØÜÈí•‰øùÂ≠òÊàêÂäüÔºÅ',
        'settings_saved': 'ËÆæÁΩÆ‰øùÂ≠òÊàêÂäüÔºÅ',
        'signin_successful': 'ÁôªÂΩïÊàêÂäü',
        'signout_successful': 'ÁôªÂá∫ÊàêÂäü',
        'api_key_set': 'API ÂØÜÈí•Â∑≤ËÆæÁΩÆ',
        'invalid_api_key': 'ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑ API ÂØÜÈí•',
        'signin_failed': 'ÁôªÂΩïÂ§±Ë¥•',
        'signout_failed': 'ÁôªÂá∫ÈîôËØØ',
        
        // Content script messages
        'chat_title': 'MSG ËÅäÂ§©',
        'ask_placeholder': 'ËØ¢ÈóÆÂÖ≥‰∫éËøô‰∏™È°µÈù¢ÁöÑ‰ªª‰ΩïÂÜÖÂÆπ...',
        'welcome_message': '‰Ω†Â•ΩÔºÅÊàëÊòØ MSGÔºå‰Ω†ÁöÑÁΩëÁ´ôÂä©Êâã„ÄÇÊàëÂ∑≤ÁªèÂàÜÊûê‰∫ÜËøô‰∏™È°µÈù¢ÔºåÂèØ‰ª•Â∏ÆÂä©‰Ω†ÈÄöËøáÊô∫ËÉΩÊêúÁ¥¢ÁêÜËß£ÂÖ∂ÂÜÖÂÆπ„ÄÇ',
        'grounding_enabled_all': 'ÁΩëÁªúÊêúÁ¥¢Â∑≤‰∏∫ÊâÄÊúâÊü•ËØ¢ÂêØÁî®„ÄÇ',
        'grounding_enabled_auto': 'ÁΩëÁªúÊêúÁ¥¢Â∞ÜÂú®ÈúÄË¶ÅÊó∂Ëá™Âä®‰ΩøÁî®„ÄÇ',
        'grounding_enabled_explicit': 'ÂΩì‰Ω†ÊòéÁ°ÆË¶ÅÊ±ÇÊó∂Ôºà‰æãÂ¶Ç"ÊêúÁ¥¢..."ÔºâÔºåÁΩëÁªúÊêúÁ¥¢ÂèØÁî®„ÄÇ',
        'content_loaded': 'ÂÜÖÂÆπÂ∑≤Âä†ËΩΩÔºà{size}KBÔºâ„ÄÇ{grounding} ËæìÂÖ•"ÊÄªÁªì"Ëé∑ÂèñÂø´ÈÄüÊ¶ÇËßà„ÄÇ',
        'content_loaded_simple': 'ÂÜÖÂÆπÂ∑≤Âä†ËΩΩÔºà{size}KBÔºâ„ÄÇËæìÂÖ•"ÊÄªÁªì"Ëé∑ÂèñÂø´ÈÄüÊ¶ÇËßà„ÄÇ',
        'web_search_indicator': 'ÁΩëÁªúÊêúÁ¥¢',
        'api_key_error': 'ÈîôËØØÔºöËØ∑Ê£ÄÊü•ËÆæÁΩÆ‰∏≠ÁöÑ API ÂØÜÈí•„ÄÇ'
      },
      
      it: {
        // Popup
        'popup_title': 'MSG: Chatta con Qualsiasi Sito Web',
        'enter_api_key': 'Inserisci la tua Chiave API Gemini',
        'api_key_secure': 'La tua chiave rimane sicura sul tuo dispositivo e non viene mai condivisa.',
        'api_key_placeholder': 'Incolla qui la tua chiave API Gemini',
        'save_key': 'Salva Chiave',
        'get_api_key': 'üîë Ottieni la tua chiave API da AI Studio',
        'signin_google': 'Accedi con Google per funzionalit√† aggiuntive (opzionale):',
        'signin_button': 'Accedi con Google',
        'signed_in_as': 'Connesso come',
        'sign_out': 'Disconnetti',
        'quick_settings': 'Impostazioni Rapide',
        'dark_mode': 'Modalit√† scura',
        'transparent_bg': 'Sfondo semi-trasparente',
        'panel_width': 'Larghezza Pannello',
        'panel_narrow': 'Stretto',
        'panel_medium': 'Medio',
        'panel_wide': 'Largo',
        'auto_summarize': 'Suggerisci riassunto automaticamente',
        'language': 'Lingua',
        'save_settings': 'Salva Impostazioni',
        'shortcut_info': 'Premi / due volte rapidamente per aprire MSG su qualsiasi sito web',
        'advanced_settings': 'Impostazioni Avanzate',
        
        // Options
        'options_title': 'Impostazioni MSG',
        'api_key_section': 'Chiave API',
        'gemini_api_key': 'Chiave API Gemini',
        'api_key_secure_server': 'La tua chiave rimane sicura sul tuo dispositivo e non viene mai condivisa con nessun server.',
        'save_api_key': 'Salva Chiave API',
        'account_section': 'Account',
        'not_signed_in': 'Non sei connesso.',
        'appearance_section': 'Aspetto',
        'use_dark_mode': 'Usa modalit√† scura (altrimenti segue le impostazioni di sistema)',
        'use_transparent_bg': 'Usa sfondo semi-trasparente',
        'behavior_section': 'Comportamento',
        'panel_width_narrow': 'Stretto (300px)',
        'panel_width_medium': 'Medio (380px)',
        'panel_width_wide': 'Largo (450px)',
        'auto_summarize_full': 'Suggerisci automaticamente un riassunto quando si apre il pannello',
        'enable_grounding': 'Abilita Google Grounding (rende le risposte pi√π accurate cercando sul web)',
        'grounding_when': 'Quando usare il grounding:',
        'grounding_auto': 'Automatico (quando necessario)',
        'grounding_always': 'Sempre',
        'grounding_explicit': 'Solo quando richiesto dall\'utente',
        'keyboard_shortcut': 'Scorciatoia da Tastiera',
        'shortcut_description': 'Apri/chiudi pannello MSG: Premi / due volte rapidamente',
        'save_all_settings': 'Salva Tutte le Impostazioni',
        
        // Status messages
        'api_key_saved': 'Chiave API salvata con successo!',
        'settings_saved': 'Impostazioni salvate con successo!',
        'signin_successful': 'Accesso riuscito',
        'signout_successful': 'Disconnessione riuscita',
        'api_key_set': 'Chiave API impostata',
        'invalid_api_key': 'Inserisci una chiave API valida',
        'signin_failed': 'Accesso fallito',
        'signout_failed': 'Errore di disconnessione',
        
        // Content script messages
        'chat_title': 'MSG Chat',
        'ask_placeholder': 'Chiedi qualsiasi cosa su questa pagina...',
        'welcome_message': 'Ciao! Sono MSG, il tuo assistente web. Ho analizzato questa pagina e posso aiutarti a comprenderne il contenuto con ricerca intelligente.',
        'grounding_enabled_all': 'La ricerca web √® abilitata per tutte le query.',
        'grounding_enabled_auto': 'La ricerca web sar√† utilizzata automaticamente quando necessario.',
        'grounding_enabled_explicit': 'La ricerca web √® disponibile quando la richiedi esplicitamente (es: "cerca...").',
        'content_loaded': 'Contenuto caricato ({size}KB). {grounding} Digita "riassumi" per una panoramica rapida.',
        'content_loaded_simple': 'Contenuto caricato ({size}KB). Digita "riassumi" per una panoramica rapida.',
        'web_search_indicator': 'Ricerca Web',
        'api_key_error': 'Errore: Controlla la tua chiave API nelle impostazioni.'
      },
      
      pt: {
        // Popup
        'popup_title': 'MSG: Converse com Qualquer Site',
        'enter_api_key': 'Digite sua Chave API do Gemini',
        'api_key_secure': 'Sua chave permanece segura em seu dispositivo e nunca √© compartilhada.',
        'api_key_placeholder': 'Cole sua chave API do Gemini aqui',
        'save_key': 'Salvar Chave',
        'get_api_key': 'üîë Obtenha sua chave API do AI Studio',
        'signin_google': 'Entre com Google para recursos adicionais (opcional):',
        'signin_button': 'Entrar com Google',
        'signed_in_as': 'Conectado como',
        'sign_out': 'Sair',
        'quick_settings': 'Configura√ß√µes R√°pidas',
        'dark_mode': 'Modo escuro',
        'transparent_bg': 'Fundo semi-transparente',
        'panel_width': 'Largura do Painel',
        'panel_narrow': 'Estreito',
        'panel_medium': 'M√©dio',
        'panel_wide': 'Largo',
        'auto_summarize': 'Sugerir resumo automaticamente',
        'language': 'Idioma',
        'save_settings': 'Salvar Configura√ß√µes',
        'shortcut_info': 'Pressione / duas vezes rapidamente para abrir MSG em qualquer site',
        'advanced_settings': 'Configura√ß√µes Avan√ßadas',
        
        // Options
        'options_title': 'Configura√ß√µes MSG',
        'api_key_section': 'Chave API',
        'gemini_api_key': 'Chave API do Gemini',
        'api_key_secure_server': 'Sua chave permanece segura em seu dispositivo e nunca √© compartilhada com nenhum servidor.',
        'save_api_key': 'Salvar Chave API',
        'account_section': 'Conta',
        'not_signed_in': 'Voc√™ n√£o est√° conectado.',
        'appearance_section': 'Apar√™ncia',
        'use_dark_mode': 'Usar modo escuro (caso contr√°rio, segue as configura√ß√µes do sistema)',
        'use_transparent_bg': 'Usar fundo semi-transparente',
        'behavior_section': 'Comportamento',
        'panel_width_narrow': 'Estreito (300px)',
        'panel_width_medium': 'M√©dio (380px)',
        'panel_width_wide': 'Largo (450px)',
        'auto_summarize_full': 'Sugerir automaticamente um resumo quando o painel abrir',
        'enable_grounding': 'Habilitar Google Grounding (torna as respostas mais precisas pesquisando na web)',
        'grounding_when': 'Quando usar grounding:',
        'grounding_auto': 'Autom√°tico (quando necess√°rio)',
        'grounding_always': 'Sempre',
        'grounding_explicit': 'Apenas quando o usu√°rio solicitar',
        'keyboard_shortcut': 'Atalho do Teclado',
        'shortcut_description': 'Abrir/fechar painel MSG: Pressione / duas vezes rapidamente',
        'save_all_settings': 'Salvar Todas as Configura√ß√µes',
        
        // Status messages
        'api_key_saved': 'Chave API salva com sucesso!',
        'settings_saved': 'Configura√ß√µes salvas com sucesso!',
        'signin_successful': 'Login realizado com sucesso',
        'signout_successful': 'Logout realizado com sucesso',
        'api_key_set': 'Chave API configurada',
        'invalid_api_key': 'Por favor, digite uma chave API v√°lida',
        'signin_failed': 'Falha no login',
        'signout_failed': 'Erro no logout',
        
        // Content script messages
        'chat_title': 'MSG Chat',
        'ask_placeholder': 'Pergunte qualquer coisa sobre esta p√°gina...',
        'welcome_message': 'Ol√°! Eu sou MSG, seu assistente web. Analisei esta p√°gina e posso ajud√°-lo a entender seu conte√∫do com busca inteligente.',
        'grounding_enabled_all': 'A busca na web est√° habilitada para todas as consultas.',
        'grounding_enabled_auto': 'A busca na web ser√° usada automaticamente quando necess√°rio.',
        'grounding_enabled_explicit': 'A busca na web est√° dispon√≠vel quando voc√™ solicita explicitamente (ex: "pesquisar...").',
        'content_loaded': 'Conte√∫do carregado ({size}KB). {grounding} Digite "resumir" para uma vis√£o geral r√°pida.',
        'content_loaded_simple': 'Conte√∫do carregado ({size}KB). Digite "resumir" para uma vis√£o geral r√°pida.',
        'web_search_indicator': 'Busca Web',
        'api_key_error': 'Erro: Verifique sua chave API nas configura√ß√µes.'
      },
      
      ja: {
        // Popup
        'popup_title': 'MSG: „ÅÇ„Çâ„ÇÜ„Çã„Ç¶„Çß„Éñ„Çµ„Ç§„Éà„Å®„ÉÅ„É£„ÉÉ„Éà',
        'enter_api_key': 'Gemini API„Ç≠„Éº„ÇíÂÖ•Âäõ',
        'api_key_secure': '„ÅÇ„Å™„Åü„ÅÆ„Ç≠„Éº„ÅØÂÆâÂÖ®„Å´„Éá„Éê„Ç§„Çπ„Å´‰øùÂ≠ò„Åï„Çå„ÄÅÂÖ±Êúâ„Åï„Çå„Çã„Åì„Å®„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ',
        'api_key_placeholder': 'Gemini API„Ç≠„Éº„Çí„Åì„Åì„Å´Ë≤º„Çä‰ªò„Åë„Å¶„Åè„Å†„Åï„ÅÑ',
        'save_key': '„Ç≠„Éº„Çí‰øùÂ≠ò',
        'get_api_key': 'üîë AI Studio„ÅßAPI„Ç≠„Éº„ÇíÂèñÂæó',
        'signin_google': 'ËøΩÂä†Ê©üËÉΩ„ÅÆ„Åü„ÇÅGoogle„Åß„Çµ„Ç§„É≥„Ç§„É≥Ôºà„Ç™„Éó„Ç∑„Éß„É≥Ôºâ:',
        'signin_button': 'Google„Åß„Çµ„Ç§„É≥„Ç§„É≥',
        'signed_in_as': '„Çµ„Ç§„É≥„Ç§„É≥‰∏≠:',
        'sign_out': '„Çµ„Ç§„É≥„Ç¢„Ç¶„Éà',
        'quick_settings': '„ÇØ„Ç§„ÉÉ„ÇØË®≠ÂÆö',
        'dark_mode': '„ÉÄ„Éº„ÇØ„É¢„Éº„Éâ',
        'transparent_bg': 'ÂçäÈÄèÊòéËÉåÊôØ',
        'panel_width': '„Éë„Éç„É´ÂπÖ',
        'panel_narrow': 'Áã≠„ÅÑ',
        'panel_medium': '‰∏≠',
        'panel_wide': 'Â∫É„ÅÑ',
        'auto_summarize': 'Ë¶ÅÁ¥Ñ„ÅÆËá™ÂãïÊèêÊ°à',
        'language': 'Ë®ÄË™û',
        'save_settings': 'Ë®≠ÂÆö„Çí‰øùÂ≠ò',
        'shortcut_info': '‰ªªÊÑè„ÅÆ„Ç¶„Çß„Éñ„Çµ„Ç§„Éà„ÅßMSG„ÇíÈñã„Åè„Å´„ÅØ / „Çí2ÂõûÁ¥†Êó©„ÅèÊäº„Åó„Å¶„Åè„Å†„Åï„ÅÑ',
        'advanced_settings': 'Ë©≥Á¥∞Ë®≠ÂÆö',
        
        // Options
        'options_title': 'MSGË®≠ÂÆö',
        'api_key_section': 'API„Ç≠„Éº',
        'gemini_api_key': 'Gemini API„Ç≠„Éº',
        'api_key_secure_server': '„ÅÇ„Å™„Åü„ÅÆ„Ç≠„Éº„ÅØÂÆâÂÖ®„Å´„Éá„Éê„Ç§„Çπ„Å´‰øùÂ≠ò„Åï„Çå„ÄÅ„Å©„ÅÆ„Çµ„Éº„Éê„Éº„Å®„ÇÇÂÖ±Êúâ„Åï„Çå„Çã„Åì„Å®„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ',
        'save_api_key': 'API„Ç≠„Éº„Çí‰øùÂ≠ò',
        'account_section': '„Ç¢„Ç´„Ç¶„É≥„Éà',
        'not_signed_in': '„Çµ„Ç§„É≥„Ç§„É≥„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ',
        'appearance_section': 'Â§ñË¶≥',
        'use_dark_mode': '„ÉÄ„Éº„ÇØ„É¢„Éº„Éâ„Çí‰ΩøÁî®Ôºà„Åù„Çå‰ª•Â§ñ„ÅØ„Ç∑„Çπ„ÉÜ„É†Ë®≠ÂÆö„Å´Âæì„ÅÜÔºâ',
        'use_transparent_bg': 'ÂçäÈÄèÊòéËÉåÊôØ„Çí‰ΩøÁî®',
        'behavior_section': 'Âãï‰Ωú',
        'panel_width_narrow': 'Áã≠„ÅÑ (300px)',
        'panel_width_medium': '‰∏≠ (380px)',
        'panel_width_wide': 'Â∫É„ÅÑ (450px)',
        'auto_summarize_full': '„Éë„Éç„É´„ÅåÈñã„ÅÑ„Åü„Å®„Åç„Å´Ëá™ÂãïÁöÑ„Å´Ë¶ÅÁ¥Ñ„ÇíÊèêÊ°à',
        'enable_grounding': 'Google Grounding„ÇíÊúâÂäπÂåñÔºàWebÊ§úÁ¥¢„Å´„Çà„ÇäÂõûÁ≠î„Çí„Çà„ÇäÊ≠£Á¢∫„Å´„Åó„Åæ„ÅôÔºâ',
        'grounding_when': 'Grounding„Çí‰ΩøÁî®„Åô„Çã„Çø„Ç§„Éü„É≥„Ç∞:',
        'grounding_auto': 'Ëá™ÂãïÔºàÂøÖË¶ÅÊôÇÔºâ',
        'grounding_always': 'Â∏∏„Å´',
        'grounding_explicit': '„É¶„Éº„Ç∂„Éº„ÅåË¶ÅÊ±Ç„Åó„ÅüÊôÇ„ÅÆ„Åø',
        'keyboard_shortcut': '„Ç≠„Éº„Éú„Éº„Éâ„Ç∑„Éß„Éº„Éà„Ç´„ÉÉ„Éà',
        'shortcut_description': 'MSG„Éë„Éç„É´„ÇíÈñã„Åè/Èñâ„Åò„Çã: / „Çí2ÂõûÁ¥†Êó©„ÅèÊäº„Åô',
        'save_all_settings': '„Åô„Åπ„Å¶„ÅÆË®≠ÂÆö„Çí‰øùÂ≠ò',
        
        // Status messages
        'api_key_saved': 'API„Ç≠„Éº„ÅåÊ≠£Â∏∏„Å´‰øùÂ≠ò„Åï„Çå„Åæ„Åó„ÅüÔºÅ',
        'settings_saved': 'Ë®≠ÂÆö„ÅåÊ≠£Â∏∏„Å´‰øùÂ≠ò„Åï„Çå„Åæ„Åó„ÅüÔºÅ',
        'signin_successful': '„Çµ„Ç§„É≥„Ç§„É≥„Å´ÊàêÂäü„Åó„Åæ„Åó„Åü',
        'signout_successful': '„Çµ„Ç§„É≥„Ç¢„Ç¶„Éà„Å´ÊàêÂäü„Åó„Åæ„Åó„Åü',
        'api_key_set': 'API„Ç≠„Éº„ÅåË®≠ÂÆö„Åï„Çå„Åæ„Åó„Åü',
        'invalid_api_key': 'ÊúâÂäπ„Å™API„Ç≠„Éº„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ',
        'signin_failed': '„Çµ„Ç§„É≥„Ç§„É≥„Å´Â§±Êïó„Åó„Åæ„Åó„Åü',
        'signout_failed': '„Çµ„Ç§„É≥„Ç¢„Ç¶„Éà„Ç®„É©„Éº',
        
        // Content script messages
        'chat_title': 'MSG „ÉÅ„É£„ÉÉ„Éà',
        'ask_placeholder': '„Åì„ÅÆ„Éö„Éº„Ç∏„Å´„Å§„ÅÑ„Å¶‰Ωï„Åß„ÇÇË≥™Âïè„Åó„Å¶„Åè„Å†„Åï„ÅÑ...',
        'welcome_message': '„Åì„Çì„Å´„Å°„ÅØÔºÅÁßÅ„ÅØMSG„ÄÅ„ÅÇ„Å™„Åü„ÅÆWeb„Ç¢„Ç∑„Çπ„Çø„É≥„Éà„Åß„Åô„ÄÇ„Åì„ÅÆ„Éö„Éº„Ç∏„ÇíÂàÜÊûê„Åó„ÄÅ„Ç§„É≥„ÉÜ„É™„Ç∏„Çß„É≥„ÉàÊ§úÁ¥¢„Åß„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÅÆÁêÜËß£„Çí„ÅäÊâã‰ºù„ÅÑ„Åß„Åç„Åæ„Åô„ÄÇ',
        'grounding_enabled_all': '„Åô„Åπ„Å¶„ÅÆ„ÇØ„Ç®„É™„ÅßWebÊ§úÁ¥¢„ÅåÊúâÂäπ„Å´„Å™„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ',
        'grounding_enabled_auto': 'ÂøÖË¶Å„Å´Âøú„Åò„Å¶WebÊ§úÁ¥¢„ÅåËá™ÂãïÁöÑ„Å´‰ΩøÁî®„Åï„Çå„Åæ„Åô„ÄÇ',
        'grounding_enabled_explicit': 'ÊòéÁ§∫ÁöÑ„Å´Ë¶ÅÊ±Ç„Åó„ÅüÂ†¥ÂêàÔºà‰æãÔºö„ÄåÊ§úÁ¥¢...„ÄçÔºâ„Å´WebÊ§úÁ¥¢„ÅåÂà©Áî®ÂèØËÉΩ„Åß„Åô„ÄÇ',
        'content_loaded': '„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„ÅüÔºà{size}KBÔºâ„ÄÇ{grounding} „ÄåË¶ÅÁ¥Ñ„Äç„Å®ÂÖ•Âäõ„Åô„Çã„Å®Ê¶ÇË¶Å„ÇíË°®Á§∫„Åó„Åæ„Åô„ÄÇ',
        'content_loaded_simple': '„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„ÅüÔºà{size}KBÔºâ„ÄÇ„ÄåË¶ÅÁ¥Ñ„Äç„Å®ÂÖ•Âäõ„Åô„Çã„Å®Ê¶ÇË¶Å„ÇíË°®Á§∫„Åó„Åæ„Åô„ÄÇ',
        'web_search_indicator': 'WebÊ§úÁ¥¢',
        'api_key_error': '„Ç®„É©„Éº: Ë®≠ÂÆö„ÅßAPI„Ç≠„Éº„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'
      },
      
      ko: {
        // Popup
        'popup_title': 'MSG: Î™®Îì† ÏõπÏÇ¨Ïù¥Ìä∏ÏôÄ Ï±ÑÌåÖ',
        'enter_api_key': 'Gemini API ÌÇ§ ÏûÖÎ†•',
        'api_key_secure': 'ÌÇ§Îäî Í∏∞Í∏∞Ïóê ÏïàÏ†ÑÌïòÍ≤å Ï†ÄÏû•ÎêòÎ©∞ Í≥µÏú†ÎêòÏßÄ ÏïäÏäµÎãàÎã§.',
        'api_key_placeholder': 'Gemini API ÌÇ§Î•º Ïó¨Í∏∞Ïóê Î∂ôÏó¨ÎÑ£ÏúºÏÑ∏Ïöî',
        'save_key': 'ÌÇ§ Ï†ÄÏû•',
        'get_api_key': 'üîë AI StudioÏóêÏÑú API ÌÇ§ Î∞õÍ∏∞',
        'signin_google': 'Ï∂îÍ∞Ä Í∏∞Îä•ÏùÑ ÏúÑÌï¥ GoogleÎ°ú Î°úÍ∑∏Ïù∏ (ÏÑ†ÌÉùÏÇ¨Ìï≠):',
        'signin_button': 'GoogleÎ°ú Î°úÍ∑∏Ïù∏',
        'signed_in_as': 'Î°úÍ∑∏Ïù∏Îê®:',
        'sign_out': 'Î°úÍ∑∏ÏïÑÏõÉ',
        'quick_settings': 'Îπ†Î•∏ ÏÑ§Ï†ï',
        'dark_mode': 'Îã§ÌÅ¨ Î™®Îìú',
        'transparent_bg': 'Î∞òÌà¨Î™Ö Î∞∞Í≤Ω',
        'panel_width': 'Ìå®ÎÑê ÎÑàÎπÑ',
        'panel_narrow': 'Ï¢ÅÍ≤å',
        'panel_medium': 'Î≥¥ÌÜµ',
        'panel_wide': 'ÎÑìÍ≤å',
        'auto_summarize': 'ÏöîÏïΩ ÏûêÎèô Ï†úÏïà',
        'language': 'Ïñ∏Ïñ¥',
        'save_settings': 'ÏÑ§Ï†ï Ï†ÄÏû•',
        'shortcut_info': 'Î™®Îì† ÏõπÏÇ¨Ïù¥Ìä∏ÏóêÏÑú MSGÎ•º Ïó¥Î†§Î©¥ / Î•º Îπ†Î•¥Í≤å Îëê Î≤à ÎàÑÎ•¥ÏÑ∏Ïöî',
        'advanced_settings': 'Í≥†Í∏â ÏÑ§Ï†ï',
        
        // Options
        'options_title': 'MSG ÏÑ§Ï†ï',
        'api_key_section': 'API ÌÇ§',
        'gemini_api_key': 'Gemini API ÌÇ§',
        'api_key_secure_server': 'ÌÇ§Îäî Í∏∞Í∏∞Ïóê ÏïàÏ†ÑÌïòÍ≤å Ï†ÄÏû•ÎêòÎ©∞ Ïñ¥Îñ§ ÏÑúÎ≤ÑÏôÄÎèÑ Í≥µÏú†ÎêòÏßÄ ÏïäÏäµÎãàÎã§.',
        'save_api_key': 'API ÌÇ§ Ï†ÄÏû•',
        'account_section': 'Í≥ÑÏ†ï',
        'not_signed_in': 'Î°úÍ∑∏Ïù∏ÌïòÏßÄ ÏïäÏïòÏäµÎãàÎã§.',
        'appearance_section': 'Ïô∏Í¥Ä',
        'use_dark_mode': 'Îã§ÌÅ¨ Î™®Îìú ÏÇ¨Ïö© (Í∑∏Î†áÏßÄ ÏïäÏúºÎ©¥ ÏãúÏä§ÌÖú ÏÑ§Ï†ï Îî∞Î¶Ñ)',
        'use_transparent_bg': 'Î∞òÌà¨Î™Ö Î∞∞Í≤Ω ÏÇ¨Ïö©',
        'behavior_section': 'ÎèôÏûë',
        'panel_width_narrow': 'Ï¢ÅÍ≤å (300px)',
        'panel_width_medium': 'Î≥¥ÌÜµ (380px)',
        'panel_width_wide': 'ÎÑìÍ≤å (450px)',
        'auto_summarize_full': 'Ìå®ÎÑêÏù¥ Ïó¥Î¶¥ Îïå ÏûêÎèôÏúºÎ°ú ÏöîÏïΩ Ï†úÏïà',
        'enable_grounding': 'Google Grounding ÌôúÏÑ±Ìôî (Ïõπ Í≤ÄÏÉâÏúºÎ°ú ÏùëÎãµÏùÑ Îçî Ï†ïÌôïÌïòÍ≤å ÎßåÎì≠ÎãàÎã§)',
        'grounding_when': 'Grounding ÏÇ¨Ïö© ÏãúÍ∏∞:',
        'grounding_auto': 'ÏûêÎèô (ÌïÑÏöîÏãú)',
        'grounding_always': 'Ìï≠ÏÉÅ',
        'grounding_explicit': 'ÏÇ¨Ïö©ÏûêÍ∞Ä ÏöîÏ≤≠Ìï† ÎïåÎßå',
        'keyboard_shortcut': 'ÌÇ§Î≥¥Îìú Îã®Ï∂ïÌÇ§',
        'shortcut_description': 'MSG Ìå®ÎÑê Ïó¥Í∏∞/Îã´Í∏∞: / Î•º Îπ†Î•¥Í≤å Îëê Î≤à ÎàÑÎ•¥Í∏∞',
        'save_all_settings': 'Î™®Îì† ÏÑ§Ï†ï Ï†ÄÏû•',
        
        // Status messages
        'api_key_saved': 'API ÌÇ§Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§!',
        'settings_saved': 'ÏÑ§Ï†ïÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§!',
        'signin_successful': 'Î°úÍ∑∏Ïù∏ ÏÑ±Í≥µ',
        'signout_successful': 'Î°úÍ∑∏ÏïÑÏõÉ ÏÑ±Í≥µ',
        'api_key_set': 'API ÌÇ§Í∞Ä ÏÑ§Ï†ïÎêòÏóàÏäµÎãàÎã§',
        'invalid_api_key': 'Ïú†Ìö®Ìïú API ÌÇ§Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî',
        'signin_failed': 'Î°úÍ∑∏Ïù∏ Ïã§Ìå®',
        'signout_failed': 'Î°úÍ∑∏ÏïÑÏõÉ Ïò§Î•ò',
        
        // Content script messages
        'chat_title': 'MSG Ï±ÑÌåÖ',
        'ask_placeholder': 'Ïù¥ ÌéòÏù¥ÏßÄÏóê ÎåÄÌï¥ Î¨¥ÏóáÏù¥Îì† ÏßàÎ¨∏ÌïòÏÑ∏Ïöî...',
        'welcome_message': 'ÏïàÎÖïÌïòÏÑ∏Ïöî! Ï†ÄÎäî MSG, ÎãπÏã†Ïùò Ïõπ Ïñ¥ÏãúÏä§ÌÑ¥Ìä∏ÏûÖÎãàÎã§. Ïù¥ ÌéòÏù¥ÏßÄÎ•º Î∂ÑÏÑùÌñàÏúºÎ©∞ ÏßÄÎä•Ìòï Í≤ÄÏÉâÏúºÎ°ú ÏΩòÌÖêÏ∏† Ïù¥Ìï¥Î•º ÎèÑÏö∏ Ïàò ÏûàÏäµÎãàÎã§.',
        'grounding_enabled_all': 'Î™®Îì† ÏøºÎ¶¨Ïóê ÎåÄÌï¥ Ïõπ Í≤ÄÏÉâÏù¥ ÌôúÏÑ±ÌôîÎêòÏñ¥ ÏûàÏäµÎãàÎã§.',
        'grounding_enabled_auto': 'ÌïÑÏöîÏãú Ïõπ Í≤ÄÏÉâÏù¥ ÏûêÎèôÏúºÎ°ú ÏÇ¨Ïö©Îê©ÎãàÎã§.',
        'grounding_enabled_explicit': 'Î™ÖÏãúÏ†ÅÏúºÎ°ú ÏöîÏ≤≠Ìï† Îïå (Ïòà: "Í≤ÄÏÉâ...") Ïõπ Í≤ÄÏÉâÏùÑ ÏÇ¨Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§.',
        'content_loaded': 'ÏΩòÌÖêÏ∏†Î•º Î°úÎìúÌñàÏäµÎãàÎã§ ({size}KB). {grounding} Îπ†Î•∏ Í∞úÏöîÎ•º Î≥¥Î†§Î©¥ "ÏöîÏïΩ"ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî.',
        'content_loaded_simple': 'ÏΩòÌÖêÏ∏†Î•º Î°úÎìúÌñàÏäµÎãàÎã§ ({size}KB). Îπ†Î•∏ Í∞úÏöîÎ•º Î≥¥Î†§Î©¥ "ÏöîÏïΩ"ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî.',
        'web_search_indicator': 'Ïõπ Í≤ÄÏÉâ',
        'api_key_error': 'Ïò§Î•ò: ÏÑ§Ï†ïÏóêÏÑú API ÌÇ§Î•º ÌôïÏù∏ÌïòÏÑ∏Ïöî.'
      },
      
      ru: {
        // Popup
        'popup_title': 'MSG: –û–±—â–∞–π—Ç–µ—Å—å —Å –õ—é–±—ã–º–∏ –°–∞–π—Ç–∞–º–∏',
        'enter_api_key': '–í–≤–µ–¥–∏—Ç–µ –≤–∞—à Gemini API –∫–ª—é—á',
        'api_key_secure': '–í–∞—à –∫–ª—é—á –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞ –≤–∞—à–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è.',
        'api_key_placeholder': '–í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à Gemini API –∫–ª—é—á —Å—é–¥–∞',
        'save_key': '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ö–ª—é—á',
        'get_api_key': 'üîë –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á –∏–∑ AI Studio',
        'signin_google': '–í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ Google –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):',
        'signin_button': '–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google',
        'signed_in_as': '–í–æ—à–ª–∏ –∫–∞–∫',
        'sign_out': '–í—ã–π—Ç–∏',
        'quick_settings': '–ë—ã—Å—Ç—Ä—ã–µ –ù–∞—Å—Ç—Ä–æ–π–∫–∏',
        'dark_mode': '–¢–µ–º–Ω—ã–π —Ä–µ–∂–∏–º',
        'transparent_bg': '–ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω',
        'panel_width': '–®–∏—Ä–∏–Ω–∞ –ü–∞–Ω–µ–ª–∏',
        'panel_narrow': '–£–∑–∫–∞—è',
        'panel_medium': '–°—Ä–µ–¥–Ω—è—è',
        'panel_wide': '–®–∏—Ä–æ–∫–∞—è',
        'auto_summarize': '–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å —Ä–µ–∑—é–º–µ',
        'language': '–Ø–∑—ã–∫',
        'save_settings': '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ù–∞—Å—Ç—Ä–æ–π–∫–∏',
        'shortcut_info': '–ù–∞–∂–º–∏—Ç–µ / –¥–≤–∞–∂–¥—ã –±—ã—Å—Ç—Ä–æ —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å MSG –Ω–∞ –ª—é–±–æ–º —Å–∞–π—Ç–µ',
        'advanced_settings': '–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ù–∞—Å—Ç—Ä–æ–π–∫–∏',
        
        // Options
        'options_title': '–ù–∞—Å—Ç—Ä–æ–π–∫–∏ MSG',
        'api_key_section': 'API –ö–ª—é—á',
        'gemini_api_key': 'Gemini API –ö–ª—é—á',
        'api_key_secure_server': '–í–∞—à –∫–ª—é—á –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞ –≤–∞—à–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä.',
        'save_api_key': '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å API –ö–ª—é—á',
        'account_section': '–ê–∫–∫–∞—É–Ω—Ç',
        'not_signed_in': '–í—ã –Ω–µ –≤–æ—à–ª–∏ –≤ —Å–∏—Å—Ç–µ–º—É.',
        'appearance_section': '–í–Ω–µ—à–Ω–∏–π –í–∏–¥',
        'use_dark_mode': '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–º–Ω—ã–π —Ä–µ–∂–∏–º (–∏–Ω–∞—á–µ —Å–ª–µ–¥—É–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º)',
        'use_transparent_bg': '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω',
        'behavior_section': '–ü–æ–≤–µ–¥–µ–Ω–∏–µ',
        'panel_width_narrow': '–£–∑–∫–∞—è (300px)',
        'panel_width_medium': '–°—Ä–µ–¥–Ω—è—è (380px)',
        'panel_width_wide': '–®–∏—Ä–æ–∫–∞—è (450px)',
        'auto_summarize_full': '–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å —Ä–µ–∑—é–º–µ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–∞–Ω–µ–ª–∏',
        'enable_grounding': '–í–∫–ª—é—á–∏—Ç—å Google Grounding (–¥–µ–ª–∞–µ—Ç –æ—Ç–≤–µ—Ç—ã –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–º–∏ —á–µ—Ä–µ–∑ –ø–æ–∏—Å–∫ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ)',
        'grounding_when': '–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å grounding:',
        'grounding_auto': '–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)',
        'grounding_always': '–í—Å–µ–≥–¥–∞',
        'grounding_explicit': '–¢–æ–ª—å–∫–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è',
        'keyboard_shortcut': '–ì–æ—Ä—è—á–∏–µ –ö–ª–∞–≤–∏—à–∏',
        'shortcut_description': '–û—Ç–∫—Ä—ã—Ç—å/–∑–∞–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å MSG: –ù–∞–∂–º–∏—Ç–µ / –¥–≤–∞–∂–¥—ã –±—ã—Å—Ç—Ä–æ',
        'save_all_settings': '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –í—Å–µ –ù–∞—Å—Ç—Ä–æ–π–∫–∏',
        
        // Status messages
        'api_key_saved': 'API –∫–ª—é—á —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω!',
        'settings_saved': '–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!',
        'signin_successful': '–í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ',
        'signout_successful': '–í—ã—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ',
        'api_key_set': 'API –∫–ª—é—á —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω',
        'invalid_api_key': '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π API –∫–ª—é—á',
        'signin_failed': '–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞',
        'signout_failed': '–û—à–∏–±–∫–∞ –≤—ã—Ö–æ–¥–∞',
        
        // Content script messages
        'chat_title': 'MSG –ß–∞—Ç',
        'ask_placeholder': '–°–ø—Ä–æ—Å–∏—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å –æ–± —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ...',
        'welcome_message': '–ü—Ä–∏–≤–µ—Ç! –Ø MSG, –≤–∞—à –≤–µ–±-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç. –Ø –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –º–æ–≥—É –ø–æ–º–æ—á—å –ø–æ–Ω—è—Ç—å –µ—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å –ø–æ–º–æ—â—å—é –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞.',
        'grounding_enabled_all': '–í–µ–±-–ø–æ–∏—Å–∫ –≤–∫–ª—é—á–µ–Ω –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.',
        'grounding_enabled_auto': '–í–µ–±-–ø–æ–∏—Å–∫ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.',
        'grounding_enabled_explicit': '–í–µ–±-–ø–æ–∏—Å–∫ –¥–æ—Å—Ç—É–ø–µ–Ω –ø—Ä–∏ —è–≤–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–Ω–∞–π—Ç–∏...").',
        'content_loaded': '–ö–æ–Ω—Ç–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–µ–Ω ({size}–ö–ë). {grounding} –í–≤–µ–¥–∏—Ç–µ "—Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å" –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ–±–∑–æ—Ä–∞.',
        'content_loaded_simple': '–ö–æ–Ω—Ç–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–µ–Ω ({size}–ö–ë). –í–≤–µ–¥–∏—Ç–µ "—Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å" –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ–±–∑–æ—Ä–∞.',
        'web_search_indicator': '–í–µ–±-–ø–æ–∏—Å–∫',
        'api_key_error': '–û—à–∏–±–∫–∞: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à API –∫–ª—é—á –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.'
      }
    };
  }

  // Set the current language
  setLanguage(language) {
    if (this.translations[language]) {
      this.currentLanguage = language;
      return true;
    }
    return false;
  }

  // Get translation for a key
  t(key) {
    const translation = this.translations[this.currentLanguage]?.[key];
    return translation || this.translations['en'][key] || key;
  }

  // Update all translatable elements on the page
  updatePageTranslations() {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(element => {
      const key = element.getAttribute('data-i18n');
      if (element.tagName === 'INPUT' && (element.type === 'text' || element.type === 'password')) {
        element.placeholder = this.t(key);
      } else if (element.tagName === 'OPTION') {
        element.textContent = this.t(key);
      } else {
        element.textContent = this.t(key);
      }
    });

    // Update title based on page type
    const titleElement = document.querySelector('title');
    if (titleElement) {
      if (titleElement.hasAttribute('data-i18n')) {
        const titleKey = titleElement.getAttribute('data-i18n');
        titleElement.textContent = this.t(titleKey);
      } else if (titleElement.textContent.includes('MSG')) {
        // Fallback for pages without data-i18n on title
        if (titleElement.textContent.includes('Settings')) {
          titleElement.textContent = this.t('options_title');
        } else {
          titleElement.textContent = this.t('popup_title');
        }
      }
    }
  }
}

// Create global i18n instance
window.i18n = new I18n();
